import BaseSeeder from '@ioc:Adonis/Lucid/Seeder'
import Variants from 'App/Models/Variants'

export default class extends BaseSeeder {
  public async run() {
    const variantsData = [
      {
        name: 'personalized portrait',
        json: `[{"name": "30x40 cm", "price": 59.5, "children": [{"name": "Toile", "price": 0, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Set de fixation", "price": 6, "technicalName": "set", "technicalType": "fixation"}], [{"name": "Chassis de 2cm", "price": 0, "technicalName": 2, "technicalType": "chassis"}, {"name": "Chassis de 4cm", "price": 15, "technicalName": 4, "technicalType": "chassis"}], [{"name": "Bordure blanche", "price": 0, "technicalName": "white", "technicalType": "border"}, {"name": "Bordure noire", "price": 2, "technicalName": "black", "technicalType": "border"}, {"name": "Bordure étirée", "price": 4, "technicalName": "stretched", "technicalType": "border"}, {"name": "Bordure miroir", "price": 6, "technicalName": "mirror", "technicalType": "border"}, {"name": "Bordure pliée", "price": 8, "technicalName": "folded", "technicalType": "border"}], [{"name": "Sans cadre", "price": 0, "technicalName": "null", "technicalType": "frame"}, {"name": "Cadre blanc", "price": 25, "technicalName": "white", "technicalType": "frame"}, {"name": "Cadre noir Mat", "price": 25, "technicalName": "black-mat", "technicalType": "frame"}, {"name": "Cadre argent ancien", "price": 30, "technicalName": "silver-old", "technicalType": "frame"}, {"name": "Cadre chêne clair", "price": 30, "technicalName": "oak-light", "technicalType": "frame"}, {"name": "Cadre noyer", "price": 30, "technicalName": "walnut", "technicalType": "frame"}]], "technicalName": "canvas", "technicalType": "matter"}, {"name": "Aluminium", "price": 22.05, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Crochet", "price": 8, "technicalName": "hook", "technicalType": "fixation"}], [{"name": "Mat", "price": 0, "technicalName": "mat", "technicalType": "shine"}, {"name": "Brillant", "price": 4.9, "technicalName": "shine", "technicalType": "shine"}]], "technicalName": "aluminium", "technicalType": "matter"}, {"name": "Aluminium + Plexiglas", "price": 53.5, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Crochet", "price": 8, "technicalName": "hook", "technicalType": "fixation"}]], "technicalName": "aluminium-plexi", "technicalType": "matter"}], "technicalName": "30x40", "technicalType": "size"}, {"name": "60x80 cm", "price": 93.99, "children": [{"name": "Toile", "price": 0, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Set de fixation", "price": 6, "technicalName": "set", "technicalType": "fixation"}], [{"name": "Chassis de 2cm", "price": 0, "technicalName": 2, "technicalType": "chassis"}, {"name": "Chassis de 4cm", "price": 15, "technicalName": 4, "technicalType": "chassis"}], [{"name": "Bordure blanche", "price": 0, "technicalName": "white", "technicalType": "border"}, {"name": "Bordure noire", "price": 2, "technicalName": "black", "technicalType": "border"}, {"name": "Bordure étirée", "price": 4, "technicalName": "stretched", "technicalType": "border"}, {"name": "Bordure miroir", "price": 6, "technicalName": "mirror", "technicalType": "border"}, {"name": "Bordure pliée", "price": 8, "technicalName": "folded", "technicalType": "border"}]], "technicalName": "canvas", "technicalType": "matter"}, {"name": "Aluminium", "price": 33.51, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Crochet", "price": 8, "technicalName": "hook", "technicalType": "fixation"}, {"name": "Rails", "price": 15, "technicalName": "rail", "technicalType": "fixation"}], [{"name": "Mat", "price": 0, "technicalName": "mat", "technicalType": "shine"}, {"name": "Brillant", "price": 4.9, "technicalName": "shine", "technicalType": "shine"}]], "technicalName": "aluminium", "technicalType": "matter"}, {"name": "Aluminium + Plexiglas", "price": 95.37, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Crochet", "price": 8, "technicalName": "hook", "technicalType": "fixation"}, {"name": "Rails", "price": 15, "technicalName": "rail", "technicalType": "fixation"}]], "technicalName": "aluminium-plexi", "technicalType": "matter"}], "technicalName": "60x80", "technicalType": "size"}, {"name": "75x100 cm", "price": 114, "children": [{"name": "Toile", "price": 0, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Set de fixation", "price": 6, "technicalName": "set", "technicalType": "fixation"}], [{"name": "Chassis de 2cm", "price": 0, "technicalName": 2, "technicalType": "chassis"}, {"name": "Chassis de 4cm", "price": 15, "technicalName": 4, "technicalType": "chassis"}], [{"name": "Bordure blanche", "price": 0, "technicalName": "white", "technicalType": "border"}, {"name": "Bordure noire", "price": 2, "technicalName": "black", "technicalType": "border"}, {"name": "Bordure étirée", "price": 4, "technicalName": "stretched", "technicalType": "border"}, {"name": "Bordure miroir", "price": 6, "technicalName": "mirror", "technicalType": "border"}, {"name": "Bordure pliée", "price": 8, "technicalName": "folded", "technicalType": "border"}]], "technicalName": "canvas", "technicalType": "matter"}, {"name": "Aluminium", "price": 70.6, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Rails", "price": 15, "technicalName": "rail", "technicalType": "fixation"}], [{"name": "Mat", "price": 0, "technicalName": "mat", "technicalType": "shine"}, {"name": "Brillant", "price": 4.9, "technicalName": "shine", "technicalType": "shine"}]], "technicalName": "aluminium", "technicalType": "matter"}, {"name": "Aluminium + Plexiglas", "price": 113, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Rails", "price": 15, "technicalName": "rail", "technicalType": "fixation"}]], "technicalName": "aluminium-plexi", "technicalType": "matter"}], "technicalName": "75x100", "technicalType": "size"}, {"name": "90x120 cm", "price": 215.98, "children": [{"name": "Toile", "price": 0, "children": [], "technicalName": "canvas", "technicalType": "matter"}, {"name": "Aluminium", "price": 45.02, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Rails", "price": 15, "technicalName": "rail", "technicalType": "fixation"}], [{"name": "Mat", "price": 0, "technicalName": "mat", "technicalType": "shine"}, {"name": "Brillant", "price": 4.9, "technicalName": "shine", "technicalType": "shine"}]], "technicalName": "aluminium", "technicalType": "matter"}, {"name": "Aluminium + Plexiglas", "price": 87.02, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Rails", "price": 15, "technicalName": "rail", "technicalType": "fixation"}]], "technicalName": "aluminium-plexi", "technicalType": "matter"}], "technicalName": "90x120", "technicalType": "size"}, {"name": "120x160 cm", "price": 250, "children": [{"name": "Toile", "price": 0, "children": [], "technicalName": "canvas", "technicalType": "matter"}, {"name": "Aluminium", "price": 55, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Rails", "price": 15, "technicalName": "rail", "technicalType": "fixation"}], [{"name": "Mat", "price": 0, "technicalName": "mat", "technicalType": "shine"}, {"name": "Brillant", "price": 4.9, "technicalName": "shine", "technicalType": "shine"}]], "technicalName": "aluminium", "technicalType": "matter"}, {"name": "Aluminium + Plexiglas", "price": 95, "children": [[{"name": "Sans fixation", "price": 0, "technicalName": "null", "technicalType": "fixation"}, {"name": "Rails", "price": 15, "technicalName": "rail", "technicalType": "fixation"}]], "technicalName": "aluminium-plexi", "technicalType": "matter"}], "technicalName": "120x160", "technicalType": "size"}]`,
      },
    ]

    for (const variant of variantsData) {
      const variantExists = await Variants.findBy('name', variant.name)

      if (!variantExists) {
        await Variants.firstOrCreate(variant as any)
      }
    }
  }
}
