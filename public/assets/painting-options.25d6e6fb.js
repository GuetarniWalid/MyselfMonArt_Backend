/*! For license information please see painting-options.25d6e6fb.js.LICENSE.txt */
(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e,n,r,o,i;function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(e,n,r){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(){"use strict";f=function(){return n};var e,n={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),c=new P(r||[]);return i(a,"_invoke",{value:k(t,n,c)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=d;var p="suspendedStart",v="suspendedYield",y="executing",m="completed",g={};function b(){}function w(){}function E(){}var L={};s(L,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==r&&o.call(S,c)&&(L=S);var O=E.prototype=b.prototype=Object.create(L);function N(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(e,n){function r(i,a,c,l){var u=h(e[i],e,a);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==t(d)&&o.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,c,l)}),(function(t){r("throw",t,c,l)})):n.resolve(d).then((function(t){s.value=t,c(s)}),(function(t){return r("throw",t,c,l)}))}l(u.arg)}var a;i(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,o){r(t,e,n,o)}))}return a=a?a.then(o,o):o()}})}function k(t,n,r){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=q(c,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var u=h(t,n,r);if("normal"===u.type){if(o=r.done?m:v,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function q(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,q(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(n){if(n||""===n){var r=n[c];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,a=function t(){for(;++i<n.length;)if(o.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(n)+" is not iterable")}return w.prototype=E,i(O,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:w,configurable:!0}),w.displayName=s(E,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},n.awrap=function(t){return{__await:t}},N(j.prototype),s(j.prototype,l,(function(){return this})),n.AsyncIterator=j,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new j(d(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},N(O),s(O,u,"Generator"),s(O,c,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},n}function h(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){h(i,r,o,a,c,"next",t)}function c(t){h(i,r,o,a,c,"throw",t)}a(void 0)}))}}function v(t){return(e=e||p(f().mark((function t(e){var n,r,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e?"/api/paintings/options/".concat(e):"/api/paintings/options/square",t.next=4,fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});case 4:if((r=t.sent).ok){t.next=7;break}throw new Error;case 7:return t.next=9,r.json();case 9:o=t.sent,y(o.json),document.querySelectorAll(".popup-info input").forEach((function(t){t.addEventListener("input",(function(t){var e=O(),n=u(e,2),r=n[0],o=n[1];q(r),A(o),I(r)}))})),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.log("error",t.t0),y([]);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}function y(t){t.forEach((function(t){var e=w(1);Object.keys(t).forEach((function(n){"children"!==n&&S(e,n,t[n])})),t.children.forEach((function(t){var e=w(2);Object.keys(t).forEach((function(n){"children"!==n&&S(e,n,t[n])})),t.children.forEach((function(t){var e;t.forEach((function(t,n){e=0===n?w(3):L(e),Object.keys(t).forEach((function(n){"children"!==n&&S(e,n,t[n])}))}))}))}))}))}function m(t){switch(t){case 1:return"main";case 2:return"cyan-700";case 3:return"green-700"}}function g(t){var e=document.getElementById("option").content.cloneNode(!0).querySelector(".option"),n=e.querySelector(".name-price"),r=e.querySelector(".button-add-info"),o=Number(t.dataset.level),i="bg-"+m(o);return n.classList.add(i),r.classList.add("text-"+m(o)),[e,n]}function b(t){var e=document.getElementById("button-add-sibling").content.cloneNode(!0).querySelector("button"),n=m(Number(t.dataset.level));return e.classList.add("border-".concat(n)),e.classList.add("text-".concat(n)),e.classList.add("hover:bg-".concat(n)),e}function w(t,e){var n=function(t){var e=document.getElementById("option-container").content.cloneNode(!0).querySelector(".option-container");e.dataset.level=t;var n="ml-"+10*(t-1);if(e.classList.add(n),3===t){var r=document.getElementById("button-add-sibling-container").content.cloneNode(!0).querySelector(".button-add-sibling-container");e.appendChild(r)}return e}(t),r=u(g(n),2),o=r[0],i=r[1];if(t<3){var a=function(t){var e=document.getElementById("button-create-child-or-sibling").content.cloneNode(!0).querySelector(".button-create-child-or-sibling"),n=e.querySelectorAll("button"),r=m(Number(t.dataset.level));return n.forEach((function(t){t.classList.add("border-".concat(r)),t.classList.add("text-".concat(r)),t.classList.add("hover:bg-".concat(r))})),e}(n);i.appendChild(a)}else{var c=b(n);i.appendChild(c)}return e?e.before(n):document.getElementById("wrapper").appendChild(n),n.appendChild(o),o}function E(t){var e=Number(t.dataset.level),n=e>=3?3:e+1,r=t.nextElementSibling;r?w(n,r):w(n)}function L(t){var e=t.closest(".option-container"),n=u(g(e),2),r=n[0],o=n[1],i=b(e);return o.appendChild(i),t.after(r),r}function x(t){var e=t.nextElementSibling;e&&"SPAN"===e.nodeName&&(e.textContent=t.value)}function S(t,e,n){var r=t.querySelector('input[name="'.concat(e,'"]'));r&&(r.value=n,x(r))}function O(){var t=N(),e=[],n=[];return t.forEach((function(t){var r=Number(t.dataset.level);if(1===r){var o=u(j(t),2),i=o[0],a=o[1],c=k(i),l=k(a);e.push(c),n.push(l)}else if(2===r){var s=e[e.length-1],d=n[n.length-1],f=u(j(t),2),h=f[0],p=f[1],v=k(h),y=k(p);s.children.push(v),d.children.push(y)}else{var m=e[e.length-1].children[e[e.length-1].children.length-1];m.children=m.children||[];var g=n[n.length-1].children[n[n.length-1].children.length-1];g.children=g.children||[];var b=function(t){var e=Array.from(t.querySelectorAll(".option")),n=e.map((function(t){return j(t)[0]})),r=e.map((function(t){return j(t)[1]}));return[n,r]}(t),w=u(b,2),E=w[0],L=w[1];m.children.push(E),g.children.push(L)}})),[e,n]}function N(){var t=document.getElementById("wrapper");return Array.from(t.querySelectorAll(".option-container"))}function j(t){var e=t.querySelectorAll("input"),n={},r={};return e.forEach((function(t){n[t.name]=isNaN(t.value)?t.value:Number(t.value);var e="technicalType"===t.name||"technicalName"===t.name?t.value:function(t){if(!isNaN(t))return t;var e=t.replace(/\s/g,"_").replace(/[^\w\s]/gi,"").toLowerCase();return"{{ 'localeImported.".concat(e,"' | t }}")}(t.value);r[t.name]=isNaN(e)?e:Number(e)})),[n,r]}function k(t){return c(c({},t),{},{children:[]})}function q(t){var e,n=(e=t,JSON.stringify(e));return document.getElementById("json-to-save").textContent=n,t}function A(t){var e,n=(e=t,'\n  <script id="variants-available">\n    window.variants = '.concat(JSON.stringify(e),';\n    window.moneySymbol = "{{ localization.country.currency.symbol }}";\n  <\/script>\n  '));document.getElementById("string-script").textContent=n}function I(t){var e=function(t){var e=new Set;return t.forEach((function(t){Object.keys(t).forEach((function(n){"children"!==n&&"technicalName"!==n&&"technicalType"!==n&&isNaN(t[n])?e.add(t[n]):"children"===n&&t[n].forEach((function(t){Object.keys(t).forEach((function(n){"children"!==n&&"technicalName"!==n&&"technicalType"!==n&&isNaN(t[n])?e.add(t[n]):"children"===n&&t[n].forEach((function(t){t.forEach((function(t){Object.keys(t).forEach((function(n){"children"!==n&&"technicalName"!==n&&"technicalType"!==n&&isNaN(t[n])&&e.add(t[n])}))}))}))}))}))}))})),e}(t),n={};e.forEach((function(t){var e=t.replace(/\s/g,"_").replace(/[^\w\s]/gi,"").toLowerCase();n[e]=t})),document.getElementById("string-locale").textContent='"localeImported":'.concat(JSON.stringify(n))}v(),i=document.getElementById("wrapper"),new MutationObserver((function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t);try{for(r.s();!(n=r.n()).done;)if("childList"===n.value.type){var o=u(O(),2),i=o[0],a=o[1];q(i),A(a),I(i)}}catch(t){r.e(t)}finally{r.f()}})).observe(i,{childList:!0,subtree:!0}),document.getElementById("overlay").addEventListener("click",(function(t){document.getElementById("overlay").classList.add("hidden"),document.querySelector(".popup-info:not(.hidden)").classList.add("hidden"),document.body.classList.remove("overflow-hidden")})),window.adjustWidth=x,window.addSiblingOptionAction=function(t){!function(t){var e=Number(t.dataset.level),n=Array.from(t.closest("#wrapper").children).filter((function(t){return t.classList.contains("option-container")})),r=n.slice(n.indexOf(t)+1),o=r.filter((function(t){return Number(t.dataset.level)===e}))[0];o||(o=r.filter((function(t){return Number(t.dataset.level)===e-1}))[0]),o?w(e,o):w(e)}(t.closest(".option-container"))},window.addChildOptionAction=function(t){E(t.closest(".option-container"))},window.recursiveRemoveOption=function t(e,n,r){var o,i=null!==(o=e.closest(".option"))&&void 0!==o?o:e,a=i.closest(".option-container"),c=Number(a.dataset.level),l=a.nextElementSibling;if(!l&&n)n.remove();else if(l&&Number(l.dataset.level)>(null!=r?r:c)){t(l.querySelector(".option"),l,null!=r?r:c),a.remove()}else{i.remove(),0===Array.from(a.querySelectorAll(".option")).length&&a.remove()}},window.addSiblingOptionAction2=function(t){L(t.closest(".option"))},window.addContainerLevel3Action=function(t){E(t.closest(".option-container"))},window.copyScript=function(){return(n=n||p(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=document.getElementById("string-script").textContent,t.next=4,navigator.clipboard.writeText(e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Erreur lors de la copie",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)},window.saveToDatabase=function(t){return(o=o||p(f().mark((function t(e){var n,r,o,i,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.classList.remove("bg-red-600"),e.classList.remove("hover:bg-red-700"),e.disabled=!0,e.classList.add("cursor-not-allowed"),e.classList.add("bg-green-700"),e.querySelector("svg").classList.remove("hidden"),e.querySelector("#static-text").classList.add("hidden"),e.querySelector("#loading-text").classList.remove("hidden"),r=document.getElementById("json-to-save").textContent,o=null===(n=document.querySelector('#aspect-ration-selection button[aria-pressed="true"]'))||void 0===n?void 0:n.dataset.aspectRatio,t.prev=10,t.next=13,fetch("/api/paintings/options/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({variants:r,aspectRatio:o})});case 13:if((i=t.sent).ok){t.next=16;break}throw new Error;case 16:return t.next=18,i.json();case 18:if("success"!==(a=t.sent).message){t.next=23;break}console.log(a),t.next=24;break;case 23:throw new Error;case 24:t.next=31;break;case 26:t.prev=26,t.t0=t.catch(10),console.log("error",t.t0),e.classList.add("bg-red-600"),e.classList.add("hover:bg-red-700");case 31:return t.prev=31,e.disabled=!1,e.classList.remove("cursor-not-allowed"),e.classList.remove("bg-green-700"),e.querySelector("svg").classList.add("hidden"),e.querySelector("#static-text").classList.remove("hidden"),e.querySelector("#loading-text").classList.add("hidden"),t.finish(31);case 39:case"end":return t.stop()}}),t,null,[[10,26,31,39]])})))).apply(this,arguments)},window.copyLocale=function(){return(r=r||p(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=document.getElementById("string-locale").textContent,t.next=4,navigator.clipboard.writeText(e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Erreur lors de la copie",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)},window.showInfoPopup=function(t){var e=t.closest(".option"),n=e.querySelector(".popup-info");n.classList.remove("hidden");var r=m(Number(e.closest(".option-container").dataset.level));n.classList.add("border-".concat(r)),document.body.classList.add("overflow-hidden"),document.getElementById("overlay").classList.remove("hidden"),e.querySelector(".popup-title").textContent=e.querySelector("input[name]").value},window.selectAspectRatio=function(t){var e=document.querySelector('#aspect-ration-selection button[aria-pressed="true"]');e.setAttribute("aria-pressed",!1),e.classList.remove("bg-main"),e.classList.replace("text-secondary","text-main"),t.setAttribute("aria-pressed",!0),t.classList.add("bg-main"),t.classList.replace("text-main","text-secondary"),N().forEach((function(t){return t.remove()})),v(t.dataset.aspectRatio)}})();